<div class="min-h-screen bg-hospital-bg">

  <div class="bg-white border-b border-gray-200 px-6 py-4 sticky top-0 z-10 shadow-sm">
    <div class="max-w-7xl mx-auto flex items-center justify-between">

      <div class="flex items-center gap-3">
        <div class="h-10 w-10 bg-hospital-cyan rounded-lg flex items-center justify-center shadow-md text-white">
          <app-icon [name]="iconoBandeja" [size]="24"></app-icon>
        </div>
        <div>
          <h1 class="text-xl font-bold text-gray-800">{{ tituloBandeja }}</h1>
          <p class="text-xs text-gray-500">{{ descripcionBandeja }}</p>
        </div>
      </div>

      <!-- KPIs + SignalR -->
      <div class="hidden md:flex items-center gap-3">

        <div class="flex items-center gap-1.5 bg-white px-2.5 py-1 rounded-full border border-gray-200 shadow-sm"
             [title]="conexionSignalREstablecida ? 'Conexión en tiempo real activa' : 'Conectando...'">
          <span class="relative flex h-2.5 w-2.5">
            <span *ngIf="conexionSignalREstablecida"
                  class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
            <span class="relative inline-flex rounded-full h-2.5 w-2.5"
                  [ngClass]="conexionSignalREstablecida ? 'bg-green-500' : 'bg-yellow-500'"></span>
          </span>
          <span class="text-[11px] font-mono text-gray-600 font-medium">
            {{ ultimaActualizacionSignalR ? (ultimaActualizacionSignalR | date:'HH:mm:ss') : '--:--:--' }}
          </span>
        </div>

        <div class="flex items-center gap-2 bg-blue-50 px-3 py-2 rounded-lg border border-blue-200">
          <div class="text-blue-500">
            <app-icon name="inbox" [size]="18"></app-icon>
          </div>
          <span class="text-sm font-bold text-blue-700">{{ totalItems }}</span>
        </div>

        <div *ngIf="itemsUrgentes > 0"
             class="flex items-center gap-2 bg-red-50 px-3 py-2 rounded-lg border border-red-200 animate-pulse">
          <div class="text-red-500">
            <app-icon name="alert-triangle" [size]="18"></app-icon>
          </div>
          <span class="text-sm font-bold text-red-700">{{ itemsUrgentes }}</span>
        </div>
      </div>
    </div>
  </div>

  <div class="max-w-7xl mx-auto p-6 space-y-6">

    <div class="card animate-fade-in">
      <div class="p-5">

        <div class="flex items-center justify-between mb-4">
          <h3 class="text-sm font-semibold text-gray-700 flex items-center gap-2">
            <span class="text-hospital-cyan flex items-center">
              <app-icon name="search" [size]="18"></app-icon>
            </span>
            <span>Filtros de Búsqueda</span>
            <span *ngIf="filtrosActivos > 0"
                  class="ml-2 px-2 py-0.5 bg-hospital-cyan text-white text-xs font-bold rounded-full">
              {{ filtrosActivos }}
            </span>
          </h3>
          <button *ngIf="filtrosActivos > 0"
                  (click)="limpiarFiltros()"
                  class="text-sm text-hospital-cyan hover:text-cyan-700 font-medium flex items-center gap-1 transition-colors">
            <app-icon name="x" [size]="16"></app-icon>
            <span>Limpiar filtros</span>
          </button>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-4 mb-4">

          <div *ngIf="configuracionFiltros.permiteFiltroExpediente">
            <label class="block text-xs font-semibold text-gray-600 mb-2 flex items-center gap-1">
              <span>N° Expediente</span>
            </label>
            <input type="text"
                   [(ngModel)]="filtroExpediente"
                   (ngModelChange)="aplicarFiltros()"
                   placeholder="SGM-2025-00001"
                   class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg
                     focus:outline-none focus:ring-2 focus:ring-hospital-cyan focus:border-transparent
                     transition-all placeholder:text-gray-400">
          </div>

          <div>
            <label class="block text-xs font-semibold text-gray-600 mb-2 flex items-center gap-1">
              <app-icon name="file-text" [size]="12"></app-icon>
              <span>Historia Clínica</span>
            </label>
            <input type="text"
                   [(ngModel)]="filtroHC"
                   (ngModelChange)="aplicarFiltros()"
                   placeholder="123456"
                   class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg
                     focus:outline-none focus:ring-2 focus:ring-hospital-cyan focus:border-transparent
                     transition-all placeholder:text-gray-400">
          </div>

          <div>
            <label class="block text-xs font-semibold text-gray-600 mb-2 flex items-center gap-1">
              <app-icon name="user" [size]="12"></app-icon>
              <span>Nombre del Paciente</span>
            </label>
            <input type="text"
                   [(ngModel)]="filtroNombre"
                   (ngModelChange)="aplicarFiltros()"
                   placeholder="Buscar por nombre"
                   class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg
                     focus:outline-none focus:ring-2 focus:ring-hospital-cyan focus:border-transparent
                     transition-all placeholder:text-gray-400">
          </div>

          <div>
            <label class="block text-xs font-semibold text-gray-600 mb-2 flex items-center gap-1">
              <app-icon name="credit-card" [size]="12"></app-icon>
              <span>N° Documento</span>
            </label>
            <input type="text"
                   [(ngModel)]="filtroDocumento"
                   (ngModelChange)="aplicarFiltros()"
                   placeholder="DNI, CE, Pasaporte"
                   class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg
                     focus:outline-none focus:ring-2 focus:ring-hospital-cyan focus:border-transparent
                     transition-all placeholder:text-gray-400">
          </div>

          <div>
            <label class="block text-xs font-semibold text-gray-600 mb-2 flex items-center gap-1">
              <app-icon name="info" [size]="12"></app-icon>
              <span>Estado</span>
            </label>
            <select [(ngModel)]="filtroEstado"
                    (ngModelChange)="aplicarFiltros()"
                    class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg
                      focus:outline-none focus:ring-2 focus:ring-hospital-cyan focus:border-transparent
                      transition-all bg-white cursor-pointer">
              <option value="">Todos los estados</option>
              <option *ngFor="let estado of estadosDisponibles" [value]="estado">
                {{ estado }}
              </option>
            </select>
          </div>

        </div>

        <div class="pt-4 border-t border-gray-200">
          <label class="block text-xs font-semibold text-gray-600 mb-2 flex items-center gap-1">
            <app-icon name="search" [size]="12"></app-icon>
            <span>Búsqueda Rápida Global</span>
            <span class="text-gray-400 font-normal">(busca en todos los campos)</span>
          </label>
          <div class="flex gap-3">
            <div class="flex-1 relative">
              <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400">
                <app-icon name="search" [size]="18"></app-icon>
              </div>
              <input type="text"
                     [(ngModel)]="searchTerm"
                     (ngModelChange)="aplicarFiltros()"
                     placeholder="Buscar en todos los campos..."
                     class="w-full pl-10 pr-10 py-2.5 text-sm border border-gray-300 rounded-lg
                       focus:outline-none focus:ring-2 focus:ring-hospital-cyan focus:border-transparent
                       transition-all placeholder:text-gray-400">
              <button *ngIf="searchTerm"
                      (click)="searchTerm = ''; aplicarFiltros()"
                      class="absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors"
                      title="Limpiar búsqueda">
                <app-icon name="x" [size]="18"></app-icon>
              </button>
            </div>
            <button (click)="recargar()"
                    class="px-6 py-2.5 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-lg
                           transition-all flex items-center gap-2 hover:scale-105 active:scale-95"
                    title="Recargar datos">
              <app-icon name="refresh-cw" [size]="18"></app-icon>
              <span>Recargar</span>
            </button>
          </div>
        </div>

      </div>
    </div>

    <div class="card overflow-hidden animate-fade-in-up" style="animation-delay: 0.1s">

      <div class="px-6 py-4 bg-gradient-to-r from-gray-50 to-gray-100 border-b border-gray-200
                  flex justify-between items-center">
        <h3 class="font-bold text-gray-700 flex items-center gap-2">
          <span class="text-hospital-cyan flex items-center">
            <app-icon name="clipboard-list" [size]="20"></app-icon>
          </span>
          <span>{{ tituloBandeja }}</span>
        </h3>
      </div>

      <div class="overflow-x-auto">
        <table class="w-full text-sm table-fixed">

          <thead class="bg-gray-50 text-xs uppercase font-bold text-gray-600 border-b-2 border-gray-200">
            <tr>

              <th class="px-4 py-3 text-center cursor-pointer hover:bg-gray-100 transition-colors w-[160px]"
                  (click)="ordenarPor('codigo')">
                <div class="flex items-center justify-center gap-2">
                  <span>{{ labelColumna1 }}</span>
                  <app-icon name="chevron-up" [size]="14"
                            *ngIf="ordenColumna === 'codigo' && ordenDireccion === 'asc'"
                            class="text-hospital-cyan"></app-icon>
                  <app-icon name="chevron-down" [size]="14"
                            *ngIf="ordenColumna === 'codigo' && ordenDireccion === 'desc'"
                            class="text-hospital-cyan"></app-icon>
                </div>
              </th>

              <th *ngIf="mostrarColumnaHC"
                  class="px-4 py-3 text-center cursor-pointer hover:bg-gray-100 transition-colors w-[80px]"
                  (click)="ordenarPor('hc')">
                <div class="flex items-center justify-center gap-2">
                  <app-icon name="file-text" [size]="14"></app-icon>
                  <span>HC</span>
                  <app-icon name="chevron-up" [size]="14"
                            *ngIf="ordenColumna === 'hc' && ordenDireccion === 'asc'"
                            class="text-hospital-cyan"></app-icon>
                  <app-icon name="chevron-down" [size]="14"
                            *ngIf="ordenColumna === 'hc' && ordenDireccion === 'desc'"
                            class="text-hospital-cyan"></app-icon>
                </div>
              </th>

              <th class="px-4 py-3 text-center cursor-pointer hover:bg-gray-100 transition-colors"
                  (click)="ordenarPor('paciente')">
                <div class="flex items-center justify-center gap-2">
                  <app-icon name="user" [size]="14"></app-icon>
                  <span>Paciente</span>
                  <app-icon name="chevron-up" [size]="14"
                            *ngIf="ordenColumna === 'paciente' && ordenDireccion === 'asc'"
                            class="text-hospital-cyan"></app-icon>
                  <app-icon name="chevron-down" [size]="14"
                            *ngIf="ordenColumna === 'paciente' && ordenDireccion === 'desc'"
                            class="text-hospital-cyan"></app-icon>
                </div>
              </th>

              <th class="px-4 py-3 text-center cursor-pointer hover:bg-gray-100 transition-colors w-[100px]"
                  (click)="ordenarPor('documento')">
                <div class="flex items-center justify-center gap-2">
                  <app-icon name="credit-card" [size]="14"></app-icon>
                  <span>Documento</span>
                  <app-icon name="chevron-up" [size]="14"
                            *ngIf="ordenColumna === 'documento' && ordenDireccion === 'asc'"
                            class="text-hospital-cyan"></app-icon>
                  <app-icon name="chevron-down" [size]="14"
                            *ngIf="ordenColumna === 'documento' && ordenDireccion === 'desc'"
                            class="text-hospital-cyan"></app-icon>
                </div>
              </th>

              <th class="px-4 py-3 text-center cursor-pointer hover:bg-gray-100 transition-colors w-[160px]"
                  (click)="ordenarPor('servicio')">
                <div class="flex items-center justify-center gap-2">
                  <app-icon name="building-2" [size]="14"></app-icon>
                  <span>Servicio</span>
                  <app-icon name="chevron-up" [size]="14"
                            *ngIf="ordenColumna === 'servicio' && ordenDireccion === 'asc'"
                            class="text-hospital-cyan"></app-icon>
                  <app-icon name="chevron-down" [size]="14"
                            *ngIf="ordenColumna === 'servicio' && ordenDireccion === 'desc'"
                            class="text-hospital-cyan"></app-icon>
                </div>
              </th>

              <th class="px-4 py-3 text-center cursor-pointer hover:bg-gray-100 transition-colors w-[120px]"
                  (click)="ordenarPor('fecha')">
                <div class="flex items-center justify-center gap-2">
                  <app-icon name="calendar" [size]="14"></app-icon>
                  <span>Fecha</span>
                  <app-icon name="chevron-up" [size]="14"
                            *ngIf="ordenColumna === 'fecha' && ordenDireccion === 'asc'"
                            class="text-hospital-cyan"></app-icon>
                  <app-icon name="chevron-down" [size]="14"
                            *ngIf="ordenColumna === 'fecha' && ordenDireccion === 'desc'"
                            class="text-hospital-cyan"></app-icon>
                </div>
              </th>

              <th class="px-4 py-3 text-center cursor-pointer hover:bg-gray-100 transition-colors w-[180px]"
                  (click)="ordenarPor('estado')">
                <div class="flex items-center justify-center gap-2">
                  <app-icon name="info" [size]="14"></app-icon>
                  <span>Estado</span>
                  <app-icon name="chevron-up" [size]="14"
                            *ngIf="ordenColumna === 'estado' && ordenDireccion === 'asc'"
                            class="text-hospital-cyan"></app-icon>
                  <app-icon name="chevron-down" [size]="14"
                            *ngIf="ordenColumna === 'estado' && ordenDireccion === 'desc'"
                            class="text-hospital-cyan"></app-icon>
                </div>
              </th>

              <th class="px-4 py-3 text-center w-[200px]">
                <div class="flex items-center justify-center gap-2">
                  <app-icon name="zap" [size]="14"></app-icon>
                  <span>Acción</span>
                </div>
              </th>
            </tr>
          </thead>

          <tbody class="divide-y divide-gray-100">

            <tr *ngIf="isLoading">
              <td [attr.colspan]="mostrarColumnaHC ? 8 : 7" class="px-6 py-12 text-center">
                <div class="flex flex-col items-center gap-3">
                  <div class="animate-spin text-hospital-cyan">
                    <app-icon name="refresh-cw" [size]="32"></app-icon>
                  </div>
                  <span class="text-gray-600 font-medium">Cargando información...</span>
                </div>
              </td>
            </tr>

            <tr *ngIf="errorMessage && !isLoading">
              <td [attr.colspan]="mostrarColumnaHC ? 8 : 7" class="px-6 py-8 text-center">
                <div class="flex flex-col items-center gap-3">
                  <div class="text-red-500">
                    <app-icon name="alert-circle" [size]="32"></app-icon>
                  </div>
                  <p class="text-red-600 font-medium">{{ errorMessage }}</p>
                  <button (click)="recargar()"
                          class="mt-2 px-4 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100
                                 transition-colors font-medium flex items-center gap-2 active:scale-95">
                    <app-icon name="refresh-cw" [size]="16"></app-icon>
                    <span>Reintentar</span>
                  </button>
                </div>
              </td>
            </tr>

            <tr *ngIf="!isLoading && !errorMessage && filteredItems.length === 0">
              <td [attr.colspan]="mostrarColumnaHC ? 8 : 7" class="px-6 py-12 text-center">
                <div class="flex flex-col items-center gap-3">
                  <div class="text-gray-400">
                    <app-icon name="inbox" [size]="48"></app-icon>
                  </div>
                  <p class="text-gray-600 font-medium text-lg">No hay items pendientes</p>
                  <p class="text-sm text-gray-400">
                    {{ filtrosActivos > 0 ? 'Intenta ajustar los filtros de búsqueda' : 'Todo está al día' }}
                  </p>
                  <button *ngIf="filtrosActivos > 0"
                          (click)="limpiarFiltros()"
                          class="mt-2 px-4 py-2 bg-hospital-cyan text-white rounded-lg hover:bg-cyan-700
                                 transition-colors font-medium flex items-center gap-2 active:scale-95">
                    <app-icon name="x" [size]="16"></app-icon>
                    <span>Limpiar filtros</span>
                  </button>
                </div>
              </td>
            </tr>

            <tr *ngFor="let item of paginatedItems"
                class="hover:bg-blue-50 transition-all group cursor-pointer"
                [class.bg-red-50]="item.esUrgente"
                [class.border-l-4]="item.esUrgente"
                [class.border-red-500]="item.esUrgente">

              <td class="px-4 py-3 text-center overflow-hidden">
                <div class="font-mono text-sm font-bold text-hospital-cyan truncate">
                  {{ item.id }}
                </div>
                <div *ngIf="item.esUrgente"
                     class="text-xs text-red-600 font-bold mt-1 flex items-center justify-center gap-1">
                  <app-icon name="alert-triangle" [size]="12"></app-icon>
                  <span>URGENTE</span>
                </div>
              </td>

              <td *ngIf="mostrarColumnaHC" class="px-4 py-3 text-center overflow-hidden">
                <div class="font-mono text-sm text-gray-700 truncate">
                  {{ item.hc || '-' }}
                </div>
              </td>

              <td class="px-4 py-3 text-center overflow-hidden">
                <div class="font-semibold text-gray-800 truncate" [title]="item.nombreCompleto">
                  {{ item.nombreCompleto }}
                </div>
              </td>

              <td class="px-4 py-3 text-center overflow-hidden">
                <div class="text-xs text-gray-500 truncate">{{ item.tipoDocumento || 'Doc' }}</div>
                <div class="font-mono text-sm text-gray-700 font-medium truncate">
                  {{ item.numeroDocumento || '-' }}
                </div>
              </td>

              <td class="px-4 py-3 text-center overflow-hidden">
                <div *ngIf="item.servicio" class="flex items-center justify-center gap-1 text-sm text-gray-700 truncate">
                  <app-icon name="building-2" [size]="14" class="text-gray-400 flex-shrink-0"></app-icon>
                  <span class="truncate">{{ item.servicio }}</span>
                </div>
                <div *ngIf="item.bandeja" class="flex items-center justify-center gap-1 text-sm text-gray-700 truncate">
                  <app-icon name="archive" [size]="14" class="text-gray-400 flex-shrink-0"></app-icon>
                  <span class="truncate">{{ item.bandeja }}</span>
                </div>
                <div *ngIf="item.monto" class="flex items-center justify-center gap-1 text-sm text-gray-700 truncate">
                  <app-icon name="credit-card" [size]="14" class="text-gray-400 flex-shrink-0"></app-icon>
                  <span class="font-semibold truncate">{{ item.monto | currency:'S/ ' }}</span>
                </div>
                <div *ngIf="item.unidadesSangre" class="flex items-center justify-center gap-1 text-sm text-gray-700 truncate">
                  <app-icon name="droplet" [size]="14" class="text-red-400 flex-shrink-0"></app-icon>
                  <span class="truncate">{{ item.unidadesSangre }} unidades ({{ item.tipoSangre }})</span>
                </div>
                <span *ngIf="!item.servicio && !item.bandeja && !item.monto && !item.unidadesSangre"
                      class="text-gray-400 text-sm"> - </span>
              </td>

              <td class="px-4 py-3 text-center">
                <div *ngIf="item.fechaFallecimiento" class="text-sm text-gray-700 font-medium">
                  {{ item.fechaFallecimiento | date:'dd/MM/yyyy' }}
                </div>
                <div *ngIf="item.fechaIngreso && !item.fechaFallecimiento"
                     class="text-sm text-gray-700 font-medium">
                  {{ item.fechaIngreso | date:'dd/MM/yyyy' }}
                </div>
                <div *ngIf="item.fechaSolicitud && !item.fechaFallecimiento && !item.fechaIngreso"
                     class="text-sm text-gray-700 font-medium">
                  {{ item.fechaSolicitud | date:'dd/MM/yyyy' }}
                </div>

                <div class="text-xs text-gray-500 mt-0.5">
                  {{ (item.fechaFallecimiento || item.fechaIngreso || item.fechaSolicitud) | date:'HH:mm' }}
                </div>

                <div *ngIf="item.tiempoTranscurrido"
                     class="text-xs text-gray-400 mt-1 flex items-center justify-center gap-1">
                  <app-icon name="clock" [size]="12"></app-icon>
                  <span>{{ formatearTiempo(item.tiempoTranscurrido) }}</span>
                </div>
              </td>

              <td class="px-4 py-3 text-center overflow-hidden">
                <span class="px-2.5 py-2 text-xs font-semibold rounded border inline-flex items-center gap-1 min-w-[160px] max-w-[140px] justify-center whitespace-nowrap overflow-hidden"
                      [ngClass]="getBadgeClasses(item.estadoTexto)"
                      [title]="item.estadoTexto">
                  <span class="truncate">{{ item.estadoTexto }}</span>
                </span>
              </td>

              <td class="px-4 py-3 text-center">
                <button (click)="ejecutarAccion(item); $event.stopPropagation()"
                        class="btn-primary text-xs px-4 py-2 flex items-center gap-2 mx-auto
                               group-hover:scale-105 transition-transform shadow-sm hover:shadow-md
                               active:scale-95">
                  <app-icon name="zap" [size]="16"></app-icon>
                  <span>{{ item.accionPrincipal }}</span>
                </button>
              </td>

            </tr>
          </tbody>
        </table>
      </div>

      <div *ngIf="!isLoading && filteredItems.length > 0"
           class="px-4 py-3 bg-gray-50 border-t border-gray-200">

        <div class="flex flex-col lg:flex-row items-center justify-between gap-4">

          <div class="text-sm text-gray-600">
            Mostrando
            <strong class="text-gray-800">{{ paginaInicio + 1 }}</strong>
            a
            <strong class="text-gray-800">{{ paginaFin }}</strong>
            de
            <strong class="text-gray-800">{{ filteredItems.length }}</strong>
            {{ filtrosActivos > 0 ? 'resultados filtrados' : 'resultados totales' }}
          </div>

          <div class="flex items-center gap-2">
            <button (click)="paginaAnterior()"
                    [disabled]="paginaActual === 1"
                    class="p-2 border border-gray-300 rounded-lg hover:bg-gray-100
                           disabled:opacity-40 disabled:cursor-not-allowed transition-all
                           active:scale-95"
                    title="Página anterior">
              <app-icon name="chevron-left" [size]="18"></app-icon>
            </button>

            <span class="px-4 py-2 text-sm font-medium text-gray-700 min-w-[140px] text-center">
              Página <strong class="text-hospital-cyan">{{ paginaActual }}</strong>
              de <strong class="text-hospital-cyan">{{ totalPaginas }}</strong>
            </span>

            <button (click)="paginaSiguiente()"
                    [disabled]="paginaActual === totalPaginas"
                    class="p-2 border border-gray-300 rounded-lg hover:bg-gray-100
                           disabled:opacity-40 disabled:cursor-not-allowed transition-all
                           active:scale-95"
                    title="Página siguiente">
              <app-icon name="chevron-right" [size]="18"></app-icon>
            </button>
          </div>

          <div class="flex items-center gap-4 text-xs text-gray-500">
            <div class="flex items-center gap-1">
              <app-icon name="clock" [size]="14"></app-icon>
              <span>Actualización: {{ fechaActual | date:'HH:mm' }}</span>
            </div>
            <div *ngIf="itemsUrgentes > 0"
                 class="flex items-center gap-1 text-red-600 font-bold animate-pulse">
              <app-icon name="alert-triangle" [size]="14"></app-icon>
              <span>{{ itemsUrgentes }} urgentes</span>
            </div>
          </div>

        </div>
      </div>

    </div>

    <div *ngIf="!isLoading && filteredItems.length > 0"
         class="card bg-blue-50 border-blue-200 animate-fade-in-up"
         style="animation-delay: 0.2s">
      <div class="p-4 flex items-start gap-3">
        <div class="text-hospital-cyan flex-shrink-0">
          <app-icon name="info" [size]="20"></app-icon>
        </div>
        <div class="text-sm">
          <p class="font-semibold text-blue-800 mb-1 flex items-center gap-2">
            <app-icon name="zap" [size]="14"></app-icon>
            <span>Consejo</span>
          </p>
          <p class="text-blue-700" [ngSwitch]="rolUsuario">
            <span *ngSwitchCase="'EnfermeriaTecnica'">
              Haz clic en "Generar Expediente" para crear el registro mortuorio. El sistema pre-llenará los datos desde SIGEM/Galenhos.
            </span>
            <span *ngSwitchCase="'EnfermeriaLicenciada'">
              Haz clic en "Generar Expediente" para crear el registro mortuorio. El sistema pre-llenará los datos desde SIGEM/Galenhos.
            </span>
            <span *ngSwitchCase="'SupervisoraEnfermeria'">
              Supervisa que todos los expedientes generados cumplan con los estándares del hospital.
            </span>
            <span *ngSwitchCase="'BancoSangre'">
              Regulariza las deudas marcando el compromiso como firmado, reposición realizada o anulación médica.
            </span>
            <span *ngSwitchCase="'Admision'">
              Verifica que todos los documentos estén en orden antes de autorizar el retiro del cuerpo.
            </span>
            <span *ngSwitchCase="'CuentasPacientes'">
              Gestiona los pagos pendientes o coordina con Servicio Social para exoneraciones.
            </span>
            <span *ngSwitchCase="'ServicioSocial'">
              Evalúa las solicitudes de apoyo social y gestiona las exoneraciones necesarias.
            </span>
            <span *ngSwitchCase="'VigilanteSupervisor'">
              Verifica la documentación legal y el DNI de los familiares antes de permitir el ingreso.
            </span>
            <span *ngSwitchCase="'JefeGuardia'">
              Autoriza casos excepcionales de ingreso o salida fuera de horario.
            </span>
            <span *ngSwitchDefault>
              Selecciona un item para procesarlo según el flujo de tu área. Usa los filtros para encontrar casos específicos.
            </span>
          </p>
        </div>
      </div>
    </div>

  </div>

</div>
